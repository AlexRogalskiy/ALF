TODOs:
- Set source_code for producer as actual pipeline code
- Forbid 'count' opts for the first stage after "switch" (check "clone")
- done! statement in other components (not stage)
- Forbid scaling for the first stage after "switch" (check "clone")
- Forbid scaling for the first stage after producer, investigate this more, producer stops sending events after removing component next to producer 
